<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma Professor Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        /* ---- VARIÁVEIS DE COR E FONTES ---- */
        :root {
            --primary-color: #4A90E2; /* Azul profissional */
            --secondary-color: #50E3C2; /* Verde menta complementar */
            --dark-color: #333A40;
            --light-color: #F8F9FA;
            --grey-color: #DCE0E3;
            --text-color: #555;
            --error-color: #e74c3c;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* ---- RESET E ESTILOS GLOBAIS ---- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--light-color);
            color: var(--text-color);
        }

        .hidden {
            display: none !important;
        }

        /* ---- TELA DE LOGIN ---- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .login-container {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            text-align: center;
            width: 90%;
            max-width: 400px;
        }

        .login-container h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .login-container p {
            margin-bottom: 30px;
            color: #999;
        }

        .input-group {
            position: relative;
            margin-bottom: 20px;
        }

        .input-group i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #ccc;
        }

        .input-group input {
            width: 100%;
            padding: 12px 12px 12px 45px;
            border: 1px solid var(--grey-color);
            border-radius: 5px;
            font-size: 16px;
        }

        .login-container button {
            width: 100%;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .login-container button:hover {
            background-color: #357ABD;
        }

        .forgot-password {
            display: block;
            margin-top: 20px;
            font-size: 14px;
            color: var(--primary-color);
            text-decoration: none;
        }

        /* ---- LAYOUT PRINCIPAL DA APLICAÇÃO ---- */
        .app-container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: var(--dark-color);
            color: white;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease-in-out;
        }

        .sidebar-header {
            padding: 20px;
            font-size: 24px;
            text-align: center;
            border-bottom: 1px solid #444;
        }

        .sidebar-menu {
            list-style: none;
            flex-grow: 1;
        }

        .sidebar-menu li a {
            display: flex;
            align-items: center;
            padding: 18px 25px;
            color: #eee;
            text-decoration: none;
            transition: background-color 0.3s;
        }

        .sidebar-menu li a:hover, .sidebar-menu li.active a {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .sidebar-menu li a i {
            margin-right: 15px;
            width: 20px;
            text-align: center;
        }

        .soon-badge {
            background-color: var(--secondary-color);
            color: var(--dark-color);
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: auto;
            font-weight: bold;
        }

        /* ---- CONTEÚDO PRINCIPAL ---- */
        .main-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .main-header {
            background: white;
            padding: 15px 30px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid var(--grey-color);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .mobile-menu-btn {
            display: none; /* Escondido em desktop */
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            margin-right: 20px;
        }

        .content-body {
            padding: 30px;
        }

        .form-section {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        input[type="text"], select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--grey-color);
            border-radius: 5px;
            font-size: 14px;
        }

        hr {
            border: 0;
            border-top: 1px solid var(--grey-color);
            margin: 30px 0;
        }

        .questao-input-container {
            background-color: #F8F9FA;
            padding: 20px;
            border: 1px solid var(--grey-color);
            border-radius: 5px;
            margin-bottom: 15px;
            position: relative;
        }

        .questao-input-container label {
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
        }

        .questao-input-container textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: var(--font-family);
            font-size: 14px;
            resize: vertical;
        }
        
        .btn-remover-questao {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: var(--error-color);
            font-size: 18px;
            cursor: pointer;
        }

        .action-buttons {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        button {
            padding: 12px 20px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-size: 15px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        .btn-primary:hover {
            opacity: 0.9;
        }

        .btn-secondary {
            background-color: white;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }
        .btn-secondary:hover {
            background-color: var(--primary-color);
            color: white;
        }

        /* ---- SEÇÃO DE PREVIEW E IMPRESSÃO ---- */
        .preview-section {
            margin-top: 40px;
            background: #e9ecef;
            padding: 40px;
        }

        #folha-a4 {
            background: white;
            width: 21cm;
            min-height: 29.7cm;
            padding: 2cm;
            margin: 0 auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            font-family: 'Times New Roman', Times, serif;
            font-size: 12pt;
        }

        .cabecalho-prova {
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .cabecalho-prova h2 { margin-bottom: 20px; text-align: center; font-size: 16pt;}
        .cabecalho-prova p { margin-bottom: 8px; font-size: 11pt; }

        .questao-impressao { margin-bottom: 25px; page-break-inside: avoid; }
        .questao-impressao p { line-height: 1.5; }

        /* ---- RESPONSIVIDADE ---- */
        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }
            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                height: 100%;
                z-index: 100;
                transform: translateX(-100%);
            }
            .sidebar.show {
                transform: translateX(0);
                box-shadow: 3px 0 15px rgba(0,0,0,0.2);
            }
            .mobile-menu-btn {
                display: block;
            }
            .content-body {
                padding: 20px;
            }
            .form-section, .preview-section {
                padding: 20px;
            }
            #folha-a4 {
                width: 100%;
                height: auto;
                min-height: 0;
                padding: 1.5cm;
            }
        }

        /* ---- ESTILOS DE IMPRESSÃO ---- */
        @media print {
            body * {
                visibility: hidden;
            }
            #folha-a4, #folha-a4 * {
                visibility: visible;
            }
            #folha-a4 {
                position: absolute;
                left: 0;
                top: 0;
                margin: 0;
                padding: 1.5cm;
                width: 100%;
                height: auto;
                box-shadow: none;
                border: none;
                font-size: 12pt;
            }
        }
    </style>
</head>
<body>

    <div id="login-modal" class="modal-overlay">
        <div class="login-container">
            <h2>Professor Pro</h2>
            <p>Acesse sua conta para continuar</p>
            <form id="login-form">
                <div class="input-group">
                    <i class="fa-solid fa-user"></i>
                    <input type="text" id="username" placeholder="Usuário" required>
                </div>
                <div class="input-group">
                    <i class="fa-solid fa-lock"></i>
                    <input type="password" id="password" placeholder="Senha" required>
                </div>
                <button type="submit">Entrar</button>
            </form>
        </div>
    </div>

    <div id="app" class="app-container hidden">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h3>Professor Pro</h3>
            </div>
            <ul class="sidebar-menu">
                <li class="active"><a href="#"><i class="fa-solid fa-file-circle-plus"></i> Criar Prova</a></li>
                <li><a href="#"><i class="fa-solid fa-box-archive"></i> Provas Prontas <span class="soon-badge">Em Breve</span></a></li>
                <li><a href="#"><i class="fa-solid fa-magnifying-glass"></i> Caça-Palavras <span class="soon-badge">Em Breve</span></a></li>
                <li><a href="#"><i class="fa-solid fa-user-gear"></i> Minha Conta</a></li>
                <li><a href="#" id="logout-btn"><i class="fa-solid fa-right-from-bracket"></i> Sair</a></li>
            </ul>
        </nav>

        <main class="main-content">
            <header class="main-header">
                <button id="mobile-menu-btn" class="mobile-menu-btn"><i class="fa-solid fa-bars"></i></button>
                <h1>Gerador de Provas e Atividades</h1>
            </header>

            <div class="content-body">
                <div class="form-section">
                    <h3>Configurações da Prova</h3>
                    <div class="grid-container">
                        <input type="text" id="titulo-prova" placeholder="Título da Prova (Ex: Avaliação de Matemática)">
                        <select id="materia-prova">
                            <option value="">Selecione a Matéria</option>
                            <option value="Matemática">Matemática</option>
                            <option value="Português">Português</option>
                            <option value="Ciências">Ciências</option>
                            <option value="História">História</option>
                            <option value="Geografia">Geografia</option>
                            <option value="Artes">Artes</option>
                        </select>
                        <select id="turma-prova">
                            <option value="">Selecione a Turma</option>
                            <option value="Infantil 1">Infantil 1</option>
                            <option value="Infantil 2">Infantil 2</option>
                            <option value="Infantil 3">Infantil 3</option>
                            <option value="1º Ano - Fundamental">1º Ano - Fundamental</option>
                            <option value="2º Ano - Fundamental">2º Ano - Fundamental</option>
                            <option value="3º Ano - Fundamental">3º Ano - Fundamental</option>
                        </select>
                    </div>

                    <hr>
                    
                    <h3>Questões</h3>
                    <div id="container-questoes">
                        </div>
                    <div class="action-buttons">
                        <button id="btn-add-questao" class="btn-secondary"><i class="fa-solid fa-plus"></i> Adicionar Questão</button>
                        <button id="btn-gerar-preview" class="btn-primary"><i class="fa-solid fa-print"></i> Gerar e Imprimir</button>
                    </div>
                </div>

                <div id="preview-section" class="preview-section hidden">
                    <div id="folha-a4">
                        </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- ELEMENTOS DO DOM ---
            const loginModal = document.getElementById('login-modal');
            const loginForm = document.getElementById('login-form');
            const appContainer = document.getElementById('app');
            const logoutBtn = document.getElementById('logout-btn');
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const sidebar = document.querySelector('.sidebar');
            
            const btnAddQuestao = document.getElementById('btn-add-questao');
            const containerQuestoes = document.getElementById('container-questoes');
            const btnGerarPreview = document.getElementById('btn-gerar-preview');
            
            const previewSection = document.getElementById('preview-section');
            const folhaA4 = document.getElementById('folha-a4');
            
            let proximoIdQuestao = 0;
            
            // --- IMPORTANTE: Altere o usuário e senha aqui ---
            const USUARIO_CORRETO = 'professor'; // Coloque o usuário desejado aqui
            const SENHA_CORRETA = 'pro123';    // Coloque a senha desejada aqui
            // ----------------------------------------------------

            // --- LÓGICA DE LOGIN (HARDCODED) ---
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const usernameInput = document.getElementById('username').value;
                const passwordInput = document.getElementById('password').value;

                if (usernameInput === USUARIO_CORRETO && passwordInput === SENHA_CORRETA) {
                    loginModal.classList.add('hidden');
                    appContainer.classList.remove('hidden');
                } else {
                    alert('Usuário ou senha incorretos!');
                }
            });

            logoutBtn.addEventListener('click', (e) => {
                e.preventDefault();
                loginModal.classList.remove('hidden');
                appContainer.classList.add('hidden');
                loginForm.reset();
            });

            // --- LÓGICA DO MENU RESPONSIVO ---
            mobileMenuBtn.addEventListener('click', () => {
                sidebar.classList.toggle('show');
            });
            
            // Fecha o menu se clicar fora dele no modo mobile
            document.addEventListener('click', (e) => {
                if (sidebar.classList.contains('show') && !sidebar.contains(e.target) && e.target !== mobileMenuBtn) {
                     sidebar.classList.remove('show');
                }
            });


            // --- LÓGICA DO GERADOR DE PROVAS ---
            
            function adicionarNovaQuestao() {
                proximoIdQuestao++;
                const questaoId = `questao-${proximoIdQuestao}`;
                const questaoDiv = document.createElement('div');
                questaoDiv.classList.add('questao-input-container');
                questaoDiv.id = questaoId;
                
                questaoDiv.innerHTML = `
                    <button class="btn-remover-questao" title="Remover Questão">&times;</button>
                    <label>Questão ${proximoIdQuestao}</label>
                    <textarea placeholder="Digite o enunciado da questão..."></textarea>
                `;
                
                containerQuestoes.appendChild(questaoDiv);
                
                // Adiciona o evento de remoção no botão que acabou de ser criado
                questaoDiv.querySelector('.btn-remover-questao').addEventListener('click', () => {
                    document.getElementById(questaoId).remove();
                });
            }

            btnAddQuestao.addEventListener('click', adicionarNovaQuestao);
            
            btnGerarPreview.addEventListener('click', () => {
                const titulo = document.getElementById('titulo-prova').value || "Avaliação";
                const materia = document.getElementById('materia-prova').value || "Não especificada";
                const turma = document.getElementById('turma-prova').value || "Não especificada";
                const questoesTextareas = document.querySelectorAll('.questao-input-container textarea');

                // Monta o cabeçalho
                let provaHTML = `
                    <div class="cabecalho-prova">
                        <h2>${titulo}</h2>
                        <p><strong>Matéria:</strong> ${materia}</p>
                        <p><strong>Turma:</strong> ${turma}</p>
                        <p><strong>Professor(a):</strong> _________________________</p>
                        <p><strong>Aluno(a):</strong> ___________________________ &nbsp;&nbsp;&nbsp; <strong>Data:</strong> ___/___/______ &nbsp;&nbsp;&nbsp; <strong>Nota:</strong> _______</p>
                    </div>
                `;

                // Monta as questões
                let numeroQuestaoImpressa = 0;
                questoesTextareas.forEach((textarea) => {
                    const enunciado = textarea.value.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\n/g, '<br>');
                    if (enunciado.trim() !== '') {
                        numeroQuestaoImpressa++;
                        provaHTML += `
                            <div class="questao-impressao">
                                <p><strong>${numeroQuestaoImpressa})</strong> ${enunciado}</p>
                                <br><br><br>
                            </div>
                        `;
                    }
                });

                if (numeroQuestaoImpressa === 0) {
                    alert("Por favor, adicione pelo menos uma questão antes de gerar a prova.");
                    return;
                }

                folhaA4.innerHTML = provaHTML;
                previewSection.classList.remove('hidden');
                previewSection.scrollIntoView({ behavior: 'smooth' });

                setTimeout(() => { window.print(); }, 500);
            });
            
            // Adiciona a primeira questão ao carregar a página
            adicionarNovaQuestao();
        });
    </script>
</body>
</html>
